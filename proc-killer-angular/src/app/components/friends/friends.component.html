<div class="row bg-light shadow-sm">
    <div class="col">
        <div class="p-4">
            <h3>Invite to application</h3>
        </div>
        <div class="row">
            <div class="col-sm-11">
                <input class="form-control" placeholder="Type email"/>
            </div>
            <div class="col-sm-1">
                <button class="btn btn-success mr-2" (click)="showUserDetails(friend.uid)">Invite</button>
            </div>
        </div>
    </div>
</div>
<div class="row bg-light shadow-sm">
    <div *ngIf="friendsList > 0" class="col">
        <div class="p-4">
            <h3>Friends</h3>
        </div>
        <table class="table table-borderless">
        <tbody>
            <tr *ngFor='let friend of friends$ | async let i = index'>
                <th scope="row">{{i+1}}</th>
                <td>{{friend.name}}</td>
                <td class="text-right">
                    <button class="btn btn-success mr-2" (click)="showUserDetails(friend.uid)"><i class="far fa-user-circle"></i>Profile</button>
                </td>
            </tr>
        </tbody>
        </table>
    </div>
    <div *ngIf="friendsList === 0" class="col bg-danger p-3 m-4">
        <h3>You have no friends yet, invite someone so you can get more points!</h3>
    </div>
</div>
<div *ngIf="invitationsCount$ | async as count" class="row bg-light shadow-sm">
    <div *ngIf="count > 0" class="col">
        <div class="p-4">
            <h3>Pending invitations</h3>
        </div>
        <table class="table table-borderless">
        <tbody>
            <tr *ngFor='let invitation of invitations$ | async let i = index'>
                <th scope="row">{{i+1}}</th>
                <td>{{invitation.inviterName}}</td>
                <td>{{dateService.onlyDate(invitation.invitationDate)}}</td>
                <td class="text-right">
                    <button class="btn btn-success mr-2" (click)="showUserDetails(invitation.inviterId)"><i class="far fa-user-circle"></i>Profile</button>
                    <button class="btn btn-success mr-2" (click)="acceptInvitation(invitation.id, invitation.inviterId)"><i class="fas fa-check"></i>Accept</button>
                    <button class="btn btn-danger" (click)="rejectInvitation(invitation.id, invitation.inviterId)"><i class="fas fa-ban"></i>Reject</button>
                </td>
            </tr>
        </tbody>
        </table>

    </div>
</div>
<div class="row divider"></div>
<div class="row bg-light mt-4 p-4 shadow-sm">
    <div class="col">
        <h3>Invite friends</h3>
    </div>
</div>
<div class="row bg-light">
    <div class="col">

        <table class="table table-borderless">
        <tbody>
            <tr *ngFor='let user of users$ | async let i = index'>
                <th scope="row">{{i+1}}</th>
                <td>{{user.name}}</td>
                <td><span class="font-weight-bold">{{user.level}}</span> LvL</td>
                <td><span class="font-weight-bold">{{user.points}}</span> Points</td>
                <td class="text-right">
                    <button *ngIf="!user.isFriend" class="btn btn-success mr-2" (click)="inviteFriend(user.uid)">
                        <i class="fas fa-user-plus"></i>Add
                    </button>
                </td>
            </tr>
        </tbody>
        </table>
    </div>
</div>